<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="generator" content="Jekyll v4.1.1" />
    <title>Admin</title>

    <!-- Alert 样式 -->
    <link rel="stylesheet" type="text/css" href="/sweetalert/sweetalert.css" />
    <script type="text/javascript" src="/sweetalert/sweetalert-dev.js"></script>

    <!-- Bootstrap & Jquery -->
    <script src="https://cdn.staticfile.org/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />

    <!-- Custom styles for this template -->
    <link href="/css/common.css" rel="stylesheet" />
    <link href="/css/login.css" rel="stylesheet" />
  </head>
  <body class="text-center">
    <form
      id="login-form"
      class="form-signin"
      style="position: relative; top: 50%; transform: translateY(-50%)"
    >
      <input
        name="password"
        type="password"
        id="password"
        class="form-control mb-3"
        placeholder="密码"
        required
      />

      <input
        id="login-btn"
        class="btn btn-lg btn-primary btn-block"
        type="button"
        value="登录"
      />
    </form>
    <script type="text/javascript">
      //登录
      $("#login-btn").click(function () {
        //后端验证

        var url = "/admin/login";
        // 请求参数

        // 发出ajax请求，并处理结果
        $.ajax({
          url: url,
          data: { password: $("#password").val() },
          type: "POST",
          dataType: "json",
          success: function (json) {
            if (json.state == 200) {
              window.location.replace("/admin");
            } else {
              swal("失败!", json.message, "error", { button: "确认" });
            }
          },
        });
      });
    </script>
  </body>
</html>
